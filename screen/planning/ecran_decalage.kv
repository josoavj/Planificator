MDScreen:
    name: 'ecran_decalage'

    MDFloatLayout:
        pos_hint: {'center_x': .5, 'center_y': .5}

        MDLabel:
            id: titre
            text: "Signalement d'un avancement pour {DEVCORPS}"
            halign: 'center'
            font_name: 'poppins-bold'
            font_size: 18
            pos_hint: {'center_x': .4, 'center_y': .95}

        MDLabel:
            text: 'CONTRAT DU 25/11/2025'
            font_name: "poppins"
            font_size: 15
            pos_hint: {"center_x": .52,'center_y':.85}

        MDLabel:
            text: 'Date pr√©vu du traitement'
            font_name: "poppins"
            font_size: 15
            pos_hint: {"center_x": .755,'center_y':.85}

        MDTextField:
            id: date_prevu
            text_color_normal: 'black'
            mode: 'fill'
            text_color_focus: 'black'
            font_name:"poppins"
            pos_hint:{"center_x":.38,"center_y":.7}
            line_color_focus: '#56B5FB'
            fill_color_normal: 'white'
            line_color_normal: 'white'
            size_hint: .25,None
            radius:[10]
            readonly: True

        MDLabel:
            id: label_decalage
            text: "Mois de l'avancement"
            font_name: "poppins"
            font_size: 15
            pos_hint: {"center_x": 1.09,'center_y':.85}

        MDTextField:
            id: date_decalage
            text_color_normal: 'black'
            mode: 'fill'
            text_color_focus: 'black'
            font_name:"poppins"
            pos_hint:{"center_x":.715,"center_y":.7}
            line_color_focus: '#56B5FB'
            fill_color_normal: 'white'
            line_color_normal: 'white'
            size_hint: .25,None
            radius:[10]
            readonly : True

        MDIconButton:
            icon: 'Assets/calendar.png'
            pos_hint:{"center_x": .815, "center_y":.7}
            on_release:
                app.calendrier('ecran_decalage', 'date_decalage')

        MDLabel:
            text: 'Motif'
            font_name: "poppins"
            font_size: 15
            pos_hint: {"center_x": .52,'center_y':.57}

        MDTextField:
            id: motif
            text_color_normal: 'black'
            mode: 'fill'
            text_color_focus: 'black'
            font_name:"poppins"
            line_color_focus: '#56B5FB'
            fill_color_normal: 'white'
            line_color_normal: 'white'
            size_hint: .82,None
            radius:[10]
            pos_hint:{"center_x":.43,"center_y":.42}

        MDLabel:
            text: "Garder la redondance"
            font_name: "poppins"
            font_size: 16
            pos_hint: {"center_x": .6,'center_y':.28}

        MDCheckbox:
            id: garder
            pos_hint: {"center_x": .07,'center_y':.28}
            size_hint: .05, .07
            active: True
            group: 'etat_redondance'

        MDLabel:
            text: "Changer la redondance"
            font_name: "poppins"
            font_size: 16
            pos_hint: {"center_x": 1.05,'center_y':.28}

        MDCheckbox:
            id: changer
            pos_hint: {"center_x": .52,'center_y':.28}
            size_hint: .05, .07
            group: 'etat_redondance'

        MDRectangleFlatButton:
            text: "Enregistrer"
            font_name: 'poppins'
            text_color: 'black'
            md_bg_color: '#B3F844'
            line_color: '#B3F844'
            size_hint: .3, None
            pos_hint: {'center_x': .65, 'center_y': .13}
            on_release:
                app.signaler()

        MDRectangleFlatButton:
            text: "Annuler"
            font_name: 'poppins'
            text_color: 'black'
            md_bg_color: '#FF3333'
            line_color: '#FF3333'
            size_hint: .3, None
            pos_hint: {'center_x': .2, 'center_y': .13}
            on_release:
                app.clear_fields('signalement')
                app.dismiss_popup()
                app.fermer_ecran()
